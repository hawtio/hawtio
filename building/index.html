<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>hawt builds</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="A HTML5 web console for managing Java services with support for JMX, OSGi, Apache ActiveMQ, Apache Camel and Fuse Fabric. Open source, modular and extensible" name="description" />
    <link href="/stylesheets/normalize.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/theme.css" rel="stylesheet">
    <link href="//static.jboss.org/css/tabzilla.css" media="screen" rel="stylesheet">
    <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script>
    <script src="//static.jboss.org/js/_jbossorg-tabzilla.js"></script>

    <!--
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>

  <body class="home">

    <!-- begin dropup -->
    <div class="dropup visible-md visible-lg visible-sm">
      <div id="ajbossproject">A JBoss Project</div> 
      <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
      <script>
    window.addEventListener('load', function() {
        renderTabzilla("hawtio", "hawtio")
        }, false);
      </script>
    </div>
    <!-- end dropup -->

    <!-- begin top banner -->
    <div class="top-banner visible-md visible-lg visible-sm">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <a class="top-banner-logo" href="/">
              <img src="/images/hawtio_logo.svg" />
            </a>
          </div>
        </div>
      </div>
    </div>
    <!--
    <div class="container visible-md visible-lg visible-sm">
      <div class="row">
        <div class="col-md-12 top-banner">
          <a href="/"></a>
        </div>
      </div>
    </div>
    -->
    <!-- end top banner -->

    <!-- begin header -->
    <div class="top-bar navbar navbar-default" role="navigation">
      <!-- begin inner container --> 
      <div class="container">
        <!-- begin inner row -->
        <div class="row">
          <!-- begin logo/toggle -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav-collapse">
              <span class="sr-only">Toggle Navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand visible-xs" href="/">
              <img src="/images/logo-100px.png" />
            </a>
            <hr class="visible-xs">
          </div>
          <!-- end logo/toggle -->

          <!-- begin navbar -->
          <div id="main-nav-collapse" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/getstarted/index.html" title="find out how to get started using hawtio to manage your java stuff">Get Started Now!</a></li>
              <li><a href="/docs/index.html">Documentation</a></li>
              <li><a href="/community/index.html">Community</a></li>
              <li><a href="/articles/index.html" title="view the demos of using hawtio with Apache ActiveMQ, Apache Camel and JBoss Fuse">Demos</a></li>
              <li><a href="https://github.com/hawtio/hawtio">github</a></li>
            </ul>
          </div>
          <!-- end navbar -->
        </div>
        <!-- end inner row -->
      </div>
      <!-- end inner container --> 
    </div>
    <!-- end header -->

    <!-- begin page display -->
    <div id="main">
		  <div id="content-header">
  <div class="container">
    <h1>Working on the code</h1>
  </div>
</div>

<p>  <div class="container">
    <div id="content"></p>

<p>We love <a href="http://hawt.io/contributing/index.html">contributions</a>! You may also want to know <a href="http://hawt.io/developers/index.html">how to hack on the hawtio code</a></p>

<p><a href="http://hawt.io/">hawtio</a> can now be built <strong>without</strong> having to install node.js or anything first thanks to the <a href="https://github.com/eirslett/frontend-maven-plugin">frontend-maven-plugin</a>. This
will install node.js <span class="amp">&amp;</span> npm into a subdirectory, run <code>npm install</code> to install dependencies <span class="amp">&amp;</span> run the build like normal.</p>

<h2 id = "Building">Building</h2>

<p>After you've cloned hawtio's git repo the first thing you should do is build the whole project.  First <code>cd</code> into the root directory of the hawtio project and run:</p>

<pre><code>mvn clean install</code></pre>

<p>This will ensure all dependencies within the hawtio repo are built and any dependencies are downloaded and in your local repo.</p>

<p>To run the sample web application for development, type:</p>

<pre><code>cd hawtio-web
mvn compile
mvn test-compile exec:java</code></pre>

<p>On OS X and linux the <em>mvn compile</em> command above is unnecessary but folks have found on windows there can be timing issues with grunt and maven that make this extra step a requirement (see <a href="https://github.com/hawtio/hawtio/issues/203#issuecomment-15808516">issue #203 for more details</a>)</p>

<p>Or if you want to just run an empty hawtio and connect in hawtio to a remote container (e.g. connect to a Fuse Fabric or something via the Connect tab) just run</p>

<pre><code>cd hawtio-web
mvn clean jetty:run</code></pre>

<h3 id = "How_to_resolve_building_error_of_hawtio-web">How to resolve building error of hawtio-web</h3>

<p>In case you get any building error of <code>hawtio-web</code>, then it may be due permission error of your local <code>.npm</code> directory. This has been known to happen for osx users. To remedy this</p>

<pre><code>cd ~
cd .npm
sudo chown -R yourusernamehere *</code></pre>

<p>Where <code>yourusernamehere</code> is your username. This will change the file permissions of the node files so you can build the project. After this try building the hawtio source code again.</p>

<h3 id = "Trying_Different_Containers">Trying Different Containers</h3>

<p>The above uses Jetty but you can try running hawtio in different containers via any of the following commands. Each of them runs the hawtio-web in a different container (with an empty JVM so no beans or camel by default).</p>

<pre><code>mvn tomcat7:run
mvn tomcat6:run
mvn jboss-as:run
mvn jetty:run</code></pre>

<h2 id = "Incrementally_compiling_TypeScript">Incrementally compiling TypeScript</h2>

<p>For a more rapid development workflow its good to use incremental compiling of TypeScript and to use LiveReload (or LiveEdit) below too.</p>

<p>So in a <strong>separate shell</strong> (while keeping the above shell running!) run the following commands:</p>

<pre><code>cd hawtio-web
mvn compile -Pwatch</code></pre>

<p>This will incrementally watch all the *.ts files in the src/main/webapp/app directory and recompile them into src/main/webapp/app/app.js whenever there's a change.</p>

<h2 id = "Incrementally_compiling_TypeScript_inside_IntelliJ__IDEA_">Incrementally compiling TypeScript inside IntelliJ (IDEA)</h2>

<p>The easiest way we've figured out how to use <a href="http://www.jetbrains.com/idea/">IDEA</a> and TypeScript together is to setup an External Tool to run watchTsc; then you get (relatively) fast recompile of all the TypeScript files to a single app.js file; so you can just keep hacking code in IDEA and letting LiveReload reload your web page.</p>

<ul>
<li>open the <strong>Preferences</strong> dialog</li>
<li>select <strong>External Tools</strong></li>
<li>add a new one called <strong>watchTsc</strong></li>
<li>select path to <strong>mvn</strong> as the program and <strong>compile -Pwatch</strong> as the program arguments</li>
<li>select <strong>hawtio-web</strong> as the working directory</li>
<li>click on Output Filters&hellip;</li>
<li>add a new Output Filter</li>
<li>use this regular expression</li>
</ul>

<p>```
$FILE_PATH$&#40;$LINE$,$COLUMN$&#41;\:
```</p>

<p>Now when you do <strong>Tools</strong> &rarr; <strong>watchTsc</strong> you should get a output in the Run tab. If you get a compile error when TypeScript gets recompiled you should get a nice link to the line and column of the error.</p>

<p><strong>Note</strong> when you do this you probably want the Run window to just show the latest compile errors (which is usually the last couple of lines).</p>

<p>I spotted a handy tip on <a href="http://youtrack.jetbrains.com/issue/IDEA-74931">this issue</a>, if you move the cursor to the end of the Run window after some compiler output has been generated - pressing keys <em>META</em> + <em>end</em> (which on OS X is the <em>fn</em> and the <em>option/splat</em> and right cursor keys) then IDEA keeps scrolling to the end of the output automatically; you don't have to then keep pressing the &ldquo;Scroll to end&rdquo; button ;)</p>

<h2 id = "Adding_additional_Javascript_dependencies">Adding additional Javascript dependencies</h2>

<p>Hawtio is (finally) adopting <a href="http://bower.io/">bower</a> for managing dependencies, these are automatically pulled in when building the project.  It's now really easy to add third-party Javascript/CSS stuff to hawtio:</p>

<ul>
<li>cd into 'hawtio-web', and build it</li>
<li>source 'setenv.sh' to add bower to your PATH (it's under node_modules) if you haven't installed it globally</li>
<li>run 'bower install &mdash;save some-awesome-tool'</li>
<li>run 'grunt bower wiredep' to update index.html</li>
<li>commit the change to bower.json and index.html</li>
</ul>

<p>When running in development mode be sure you've run 'grunt bower' if you see 404 errors for the bower package you've installed.  This is normally done for you when running 'mvn clean install'</p>

<h2 id = "Using_LiveReload">Using LiveReload</h2>

<p>The LiveReload support allows you to edit the code and for the browser to automatically reload once things are compiled. This makes for a much more fun and RAD development environment!!</p>

<p>The easiest method to run with LiveReload support is to cd into the &ldquo;hawtio-web&rdquo; module and run the following:</p>

<p>mvn test-compile exec:java</p>

<p>The sample server runs an embedded LiveReload server that's all set up to look at src/main/webapp for file changes.  If you don't want to load all of the sample apps because you're connecting to another JVM you don't have to:</p>

<p>mvn test-compile exec:java -DloadApps=false</p>

<p>The Live Reload server implementation is provided by <a href="https://github.com/davidB/livereload-jvm">livereload-jvm</a>.  When using other methods run run hawtio like &ldquo;mvn jetty:run&rdquo; or &ldquo;mvn tomcat:run&rdquo; you can run <a href="https://github.com/davidB/livereload-jvm">livereload-jvm</a> directly, for example from the hawtio-web directory:</p>

<pre><code>java -jar livereload-jvm-0.2.0-SNAPSHOT-onejar.jar -d src/main/webapp/ -e .*\.ts$</code></pre>

<p>Install the <a href="https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei">LiveReload</a> plugin for Chrome and then enable it for the website (click the live reload icon on the right of the address bar).  There is also a LiveReload plugin for Firefox, you can get it straight from the <a href="http://livereload.com">LiveReload site</a>.</p>

<p>In another shell (as mentioned above in the &ldquo;Incrementally compile TypeScript&rdquo; section you probably want to auto-recompile all the TypeScript files into app.js in <em>another shell</em> via this command:</p>

<pre><code>cd hawtio-web
mvn compile -Pwatch</code></pre>

<p>Enable Live Reload in your browser (open <a href="http://localhost:8282/hawtio/">http://localhost:8282/hawtio/</a> then click on the Live Reload icon to the right of the location bar).</p>

<p>Now if you change any source (HTML, CSS, TypeScript, JS library) the browser will auto reload on the fly. No more context-switching between your IDE and your browser! :)</p>

<p>To specify a different port to run on, just override the <code>jettyPort</code> property</p>

<pre><code>mvn test-compile exec:java -DjettyPort=8181</code></pre>

<h3 id = "Using_your_build__span_class__amp___amp___span__LiveReload_inside_other_web_containers">Using your build <span class="amp">&amp;</span> LiveReload inside other web containers</h3>

<p>TODO - this needs updating still&hellip;</p>

<p>The easiest way to use other containers and still get the benefits of LiveReload is to create a symbolic link to the generated hawtio-web war in expanded form, in the deploy directory in your web server.</p>

<p>e.g. to use Tomcat7 in LiveReload mode try the following to create a symbolic link in the tomcat/webapps directory to the <strong>hawtio-web/target/hawtio-web-1.3-SNAPSHOT</strong> directory:</p>

<pre><code>cd tomcat/webapps
ln -s ~/hawtio/hawtio-web/target/hawtio-web-1.3-SNAPSHOT hawtio</code></pre>

<p>Then use <a href="https://github.com/davidB/livereload-jvm">livereload-jvm</a> manually as shown above.</p>

<p>Now just run Tomcat as normal. You should have full LiveReload support and should not have to stop/start Tomcat or recreate the WAR etc!</p>

<h3 id = "Running_hawtio_against_Kubernetes___OpenShift">Running hawtio against Kubernetes / OpenShift</h3>

<p>To try run a <a href="http://fabric8.io/v2/getStarted.html">local OpenShift V3 based on Kubernetes / Docker</a> first</p>

<pre><code>opeshift start</code></pre>

<p>Then run the following:</p>

<pre><code>export KUBERNETES_MASTER=http://localhost:8080
mvn test-compile exec:java</code></pre>

<p>You should now see the Kubernetes / OpenShift console at http://localhost:8282/</p>

<h4 id = "Using_your_build_from_inside_Jetty">Using your build from inside Jetty</h4>

<p>For jetty you need to name the symlink directory <strong>hawtio.war</strong> for <a href="http://www.eclipse.org/jetty/documentation/current/automatic-webapp-deployment.html">Jetty to recognise it</a>.</p>

<pre><code>cd jetty-distribution/webapps
ln -s ~/hawtio/hawtio-web/target/hawtio-web-1.3-SNAPSHOT hawtio.war</code></pre>

<p>Another thing is for symlinks jetty uses the real directory name rather than the symlink name for the context path.</p>

<p>So to open the application in Jetty open <a href="http://localhost:8282/hawtio-web-1.3-SNAPSHOT/">http://localhost:8282/hawtio-web-1.3-SNAPSHOT/</a></p>

<h2 id = "Running_Unit_Tests">Running Unit Tests</h2>

<p>You can run the unit tests via maven:</p>

<pre><code>cd hawtio-web
mvn test</code></pre>

<p>If you are using the <a href="https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei">LiveReload plugin for Chrome</a> you can then hit the LiveReload icon to the right of the address bar and if you are running the watch profile, the tests are re-run every time there is a compile:</p>

<pre><code>mvn test -Pwatch</code></pre>

<p>Now the unit tests are all re-run whenever you edit the source.</p>

<h2 id = "Running_integration_Tests">Running integration Tests</h2>

<p>You can run the Protractor integration tests via maven:</p>

<pre><code>cd hawtio-web
mvn verify -Pitests</code></pre>

<p>This will run the tests headlessly, in <a href="http://phantomjs.org/">Phantomjs</a>.</p>

<p>If you want to see the tests running, you can run them in Chrome with:</p>

<pre><code>cd hawtio-web
mvn verify -Pitests,chrome</code></pre>

<h2 id = "How_to_Get_Started_Hacking_the_Code">How to Get Started Hacking the Code</h2>

<p>Check out the <a href="http://hawt.io/developers/index.html">hawtio technologies, tools and code walkthroughs</a></p>

<h2 id = "Trying_hawtio_with_Fuse_Fabric">Trying hawtio with Fuse Fabric</h2>

<p>As of writing hawtio depends on the latest snapshot of <a href="http://fuse.fusesource.org/fabric/">Fuse Fabric</a>. To try out hawtio with it try these steps:</p>

<ol>
<li><p>Grab the latest <a href="http://fuse.fusesource.org/source.html">Fuse Fabric source code</a> and do a build in the fabric directory&hellip;</p>

<p>git clone git://github.com/fusesource/fuse.git
cd fuse
cd fabric
mvn -Dtest=false -DfailIfNoTests=false clean install</p></li>
<li><p>Now create a Fuse Fabric instance</p>

<p>cd fuse-fabric\target
tar xf fuse-fabric-99-master-SNAPSHOT.tar.gz
cd fuse-fabric-99-master-SNAPSHOT
bin/fusefabric</p></li>
<li><p>When the Fabric starts up run the command</p>

<p>fabric:create</p>

<p>to properly test things out you might want to create a new version and maybe some child containers.</p></li>
</ol>

<h3 id = "Running_hawtio_with_Fuse_Fabric_in_development_mode">Running hawtio with Fuse Fabric in development mode</h3>

<pre><code>cd hawtio-web
mvn test-compile exec:java -Psnapshot,fabric</code></pre>

<p></div>
  </div></p>
    </div>
    <!-- end page display -->

    <!-- begin footer -->
    <div class="footer">
      <!-- begin footer container -->
      <div class="container">
        <!-- begin footer row -->
        <div class="row">
          <!-- begin project info -->
          <div class="project col-md-4">
            <p>
              <img class="logo-big" src="/images/logo-450px.png">
            </p>
            <p>
              <i class="icon-fire"></i>
              Mixed with <a href="http://getbootstrap.com/">Bootstrap</a>. Baked by <a href="http://scalate.fusesource.org">Scalate</a>.
            </p>
              <i class="icon-share-alt"></i>
            <p>
              Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            </p>
            <p>
              Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
            </p>
          </div>
          <!-- end project info -->

          <!-- begin footer-nav -->
          <div class="footer-nav col-md-2">
            <h4>Learn</h4>
            <ul>
              <li>
                <a href="/getstarted/index.html">Get Started</a>
              </li>
              <li>
                <a href="/articles/index.html">Articles and Demos</a>
              </li>
              <li>
                <a href="/faq/index.html">FAQ</a>
              </li>
              <li>
                <a href="/developers/index.html">Developers</a>
              </li>
              <li>
                <a href="/building/index.html">Building</a>
              </li>
            </ul>
          </div>
          <!-- end footer-nav -->

          <!-- begin footer-nav -->
          <div class="footer-nav col-md-2">
            <h4>Get Involved</h4>
            <ul>
              <!--
              <li>
                <a href="http://community.jboss.org/en/hawtio?view=discussions">Forums</a>
              </li>
              -->
              <li>
                <a href="/contributing/index.html">Contributing</a>
              </li>
              <li>
                <a href="/community/index.html">Community</a>
              </li>
              <li>
                <a href="https://github.com/hawtio/hawtio/issues?state=open">Issue Tracker</a>
              </li>
              <li>
                <a href="https://github.com/hawtio/hawtio">Source Code</a>
              </li>
              <!--
              <li>
                <a href="/community/contributors">Contributors</a>
              </li>
              -->
            </ul>
          </div>
          <!-- end footer-nav -->

          <!-- begin sponsor -->
          <div class="sponser col-md-4">
            <!-- begin follow-us -->
            <div class="follow-us">
              <h4>Stay Informed</h4>
              <ul>
                <!--
                <li>
                  <a href="https://plus.google.com/100660127586085393031"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow hawtio on Google+" /></a>
                </li>
                -->
                <li>
                  <a href="https://twitter.com/#!/search/%23hawtio"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #hawtio hashtag on Twitter" /></a>
                </li>
                <!--
                <li>
                  <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the hawtio group on LinkedIn" /></a>
                </li>
                <li>
                  <a href="http://vimeo.com/channels/hawtio"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the hawtio channel on Vimeo" /></a>
                </li>
                -->
              </ul>
            </div>
            <!-- end follow-us -->

            <p>This website is open source! If you want to improve it, <a href="http://github.com/hawtio/hawtio">fork the project</a>, hack on it, then send a pull request. You can also view the <a href="http://www.seethestats.com/site/hawtio">visitor stats</a>.</p>
          </div>
        <!-- end sponsor -->
        </div>
        <!-- end footer row -->

        <!-- begin top link row -->
        <div class="row">
          <div class="col-md-12">
            <p class="link-top text-center">
              <a class="visible-desktop" href="#" id="toTop">Top</a>
            </p>
          </div>
        </div>
        <!-- end top link row -->

      </div>
      <!-- end footer container -->

      <div class="container" id="companyfooter">
        <div class="redhatlogo" style="text-align:center;">
          <div id="logospacer"></div>
            <a href="http://www.redhat.com/">
            <img src="http://static.jboss.org/theme/images/common/redhat_logo.png">
          </a>
        </div>
      </div>

    </div>
    <!-- end footer -->


    <!-- begin scripts -->
    <script type="text/javascript">
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="/javascripts/bootstrap.min.js"></script>
    <!--
    <script src="/javascripts/prettify.js"></script>
    -->
    <!--
    <script src="/javascripts/site.js"></script>
    -->
    <script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-36899203-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		</script>
    <!-- end scripts -->
  </body>
</html>
