<div>
  <h4 title="{{metaType.description}}">{{metaType.name || pid}}</h4>

  <div ng-show="!editMode">
    <div class="row-fluid">
      <button class="btn" ng-click="setEditMode(true)">Edit Configuration</button>
      <button class="btn btn-danger pull-right" ng-show="!editMode" ng-click="deletePidDialog.open()">Delete this Pid</button>
    </div>
    <div class="row-fluid">
      <div simple-form name="pidEditor" mode='view' entity='entity' data='schema' schema="fullSchema"></div>
    </div>
  </div>
  <div ng-show="editMode">
    <div class="row-fluid">
      <button class="btn btn-primary" ng-show="editMode" ng-disabled="!canSave" ng-click="pidSave()">Save Changes</button>
      <button class="btn" ng-show="editMode" ng-click="addPropertyDialog.open()">Add Property</button>
      <button class="btn btn-warning pull-right" ng-show="editMode" ng-click="setEditMode(false)">Cancel</button>
    </div>
    <div class="row-fluid">
      <div simple-form name="pidEditor" mode='edit' entity='entity' data='schema' schema="fullSchema"></div>
    </div>
  </div>

  <div modal="deletePropDialog.show" close="deletePropDialog.close()" options="deletePropDialog.options">
    <form name="deleteProperty" class="form-horizontal no-bottom-margin" ng-submit="deletePidPropConfirmed()">
      <div class="modal-header"><h4>Delete property '{{deleteKey}}'</h4></div>
      <div class="modal-body">
        <p>Are you sure?</p>
      </div>
      <div class="modal-footer">
        <input class="btn btn-success" type="submit" value="Delete">
        <input class="btn btn-primary" ng-click="deletePropDialog.close()" type="button" value="Cancel">
      </div>
    </form>
  </div>

  <div modal="deletePidDialog.show" close="deletePidDialog.close()" options="deletePidDialog.options">
    <form name="deletePid" class="form-horizontal no-bottom-margin" ng-submit="deletePidConfirmed()">
      <div class="modal-header"><h4>Delete this configuration object '{{pid}}'</h4></div>
      <div class="modal-body">
        <p>Are you sure?</p>
      </div>
      <div class="modal-footer">
        <input class="btn btn-success" type="submit" value="Delete">
        <input class="btn btn-primary" ng-click="deletePidDialog.close()" type="button" value="Cancel">
      </div>
    </form>
  </div>

  <div modal="addPropertyDialog.show" close="addPropertyDialog.close()" options="addPropertyDialog.options">
    <form name="addProperty" class="form-horizontal no-bottom-margin"
          ng-submit="addPropertyConfirmed(addPropKey, addPropValue)">
      <div class="modal-header"><h4>Add property</h4></div>
      <div class="modal-body">
        <div class="control-group">
          <label class="control-label" for="propKey">Key</label>

          <div class="controls">
            <input class="input-xlarge" type="text" id="propKey" placeholder="Key" ng-model="addPropKey"/>
            <span class="help-block"
                  ng-hide="addPropKey !== '' && addPropKey !== undefined">A key must be specified</span>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="propValue">Value</label>

          <div class="controls">
            <input class="input-xlarge" type="text" id="propValue" placeholder="Value" ng-model="addPropValue"/>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <input class="btn btn-success" ng-disabled="!(addPropKey !== '' && addPropKey !== undefined)" type="submit"
               value="Add">
        <input class="btn btn-primary" ng-click="addPropertyDialog.close()" type="button" value="Cancel">
      </div>
    </form>
  </div>
</div>